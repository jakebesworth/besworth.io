function do_search(e,t){var _=new cxl;_.set_container(e),_.set_filter(e,t),_.send_request()}function do_nav_reset(e,t,_){nav_control_is_disabled(t,_)||(reset_container(t),do_nav_first(e,t))}function do_nav_first(e,t,_){nav_control_is_disabled(e,_)||(clr_select_state_all(e),set_container_offset(e,0),do_search(e,t))}function do_nav_up(e,t,_){nav_control_is_disabled(e,_)||(clr_select_state_all(e),set_container_offset(e,get_container_offset(e)-get_container_limit(e)),do_search(e,t))}function do_nav_dn(e,t,_){nav_control_is_disabled(e,_)||(clr_select_state_all(e),set_container_offset(e,get_container_offset(e)+get_container_limit(e)),do_search(e,t))}function do_nav_last(e,t,_){nav_control_is_disabled(e,_)||(clr_select_state_all(e),set_container_offset(e,get_container_offset_last_row(e)),do_search(e,t))}function do_nav_row(e,t,_){var n=get_select_index_relative(e,t);n>=0?set_select_state_exclusive(e,n):do_vkey_action(_)}function do_nav_close(tform_id,control_name){if(!nav_control_is_disabled(tform_id,control_name)){clr_select_state_all(tform_id);var flow_info=get_flow_info(tform_id);if(flow_info){var cxl_select=new cxl;if(cxl_select.set_container(tform_id),cxl_select.set_qid(get_container_qid(tform_id)),cxl_select.set_request_mode_close(),flow_info.parent_node_id){var sform_id=find_container_id_by_flow_role(flow_info.parent_node_id,"search");eval("cxl_select.m_next = function() { do_search('"+flow_info.parent_node_id+"', '"+sform_id+"'); }")}cxl_select.send_request()}}}function do_nav_select(e,t){if(!nav_control_is_disabled(e,t)){var _=get_flow_info(e);if(_&&_.child_node_id){var n=find_container_id_by_flow_role(e,"display"),o=get_container_qid(e);if(n&&o){var i=new cxl;set_container_offset_from_select_index(e),i.set_container(n),i.set_qid(o),i.set_send_request_pk();var r=new cxl;set_container_offset(_.child_node_id,0),r.set_container(_.child_node_id),r.set_filter(_.child_node_id,find_container_id_by_flow_role(_.child_node_id,"search")),r.set_qid(get_container_qid(_.child_node_id)),i.m_next=r,i.send_request()}}}}function do_add(container_id,control_name){if(!nav_control_is_disabled(container_id,control_name)){var iform_id=find_container_id_by_flow_role(container_id,"input");if(iform_id){set_container_action(iform_id,ACTION_INSERT);var cxl_input=new cxl;set_container_offset_from_select_index(container_id),cxl_input.set_container(iform_id),cxl_input.set_qid(get_container_qid(container_id)),cxl_input.set_request_action(ACTION_INIT),eval("cxl_input.m_next = function() { lookup_all('"+iform_id+"'); }"),cxl_input.send_request()}}}function do_edit(e,t){if(!nav_control_is_disabled(e,t)){var _=find_container_id_by_flow_role(e,"input");if(_){set_container_action(_,ACTION_UPDATE);var n=new cxl;set_container_offset_from_select_index(e),n.set_container(_),n.set_qid(get_container_qid(e)),n.set_send_request_pk(),n.send_request()}}}function do_delete(e,t){if(!nav_control_is_disabled(e,t)&&confirm(get_delete_confirm_msg(get_selection_row_count(e)))){var _=new cxl;set_container_offset_from_select_index(e),_.set_qid(get_container_qid(e)),_.set_send_request_pk(),_.set_request_action(ACTION_DELETE);var n=new cxl;n.set_container(e),n.set_filter(e,find_container_id_by_flow_role(e,"search")),n.set_qid(get_container_qid(e)),_.m_next=n,_.send_request()}}function do_ok(e,t,_){if(!nav_control_is_disabled(t,_)){var n=get_container_action(t),o=new cxl;o.set_container(t),o.set_qid(get_container_qid(e)),o.set_request_action(n),n==ACTION_UPDATE&&o.set_send_request_pk();var i=new cxl;i.set_container(e),i.set_filter(e,find_container_id_by_flow_role(e,"search")),i.set_qid(get_container_qid(e)),o.m_next=i,o.send_request()}}function do_cancel(e,t,_){if(!nav_control_is_disabled(t,_)){set_container_action(t,ACTION_SELECT);var n=new cxl;n.set_container(t),n.set_qid(get_container_qid(e)),n.set_request_mode_cancel();var o=new cxl;o.set_container(e),o.set_filter(e,find_container_id_by_flow_role(e,"search")),o.set_qid(get_container_qid(e)),n.m_next=o,n.send_request()}}function do_app_nav(nav_container_id){if("undefined"==typeof g_search_app_nav||"string"==typeof g_search_app_nav&&eval(g_search_app_nav)){var app_nav_request=new cxl;app_nav_request.set_request_mode_adhoc(),app_nav_request.set_container(nav_container_id),set_extra_arg(APP_NAV,"document_pathname",document.location.pathname),app_nav_request.send_request(APP_NAV),hide_show(nav_container_id,"show")}}function do_sub_nav(e,t,_,n,o){var i=new cxl;i.set_request_mode_adhoc(),i.set_container(e),set_extra_arg(SUB_NAV,SUB_NAV_ACTIVE,t),set_extra_arg(SUB_NAV,SUB_NAV_CALLBACK,"string"==typeof _?_:"sub_nav_callback"),set_extra_arg(SUB_NAV,SUB_NAV_STYLE,"string"==typeof n?n:"select"),set_extra_arg(SUB_NAV,SUB_NAV_OPTIONS,"string"==typeof o?o:""),i.send_request(SUB_NAV),hide_show(e,"show")}function do_lookup(e,t,_){var n=new cxl;e&&e.options&&e.options.length?((e.selectedIndex<0||e.selectedIndex>=e.options.length)&&(e.selectedIndex=0),n.set_container(t),set_extra_arg(_,"_request_pk_",e.options[e.selectedIndex].value),n.set_send_request_pk(),n.set_request_mode_fetch(),n.send_request(_),set_extra_arg(_,"_request_pk_",0)):(n.set_container(t),n.set_send_request_pk(),n.set_request_mode_fetch(),n.send_request(_))}function lookup_all(e){if(e&&m_lookup_request[e])for(var t in m_lookup_request[e]){var _=m_lookup_request[e][t];if(_.select_id)do_lookup(null,e,_.qid);else if(_.basis_id){var n=document.getElementById(_.basis_id);n&&do_lookup(n,e,_.qid)}}}function do_stat(e){var t=find_container_id_by_flow_role(e,"stat");if(t&&document.getElementById(t)){var _=new cxl;_.set_container(t),_.set_request_mode_fetch(),_.send_request()}}function reg_blind(e){e&&(m_map_id_is_blind[e]={_is_blind_:!0})}function is_blind(e){return m_map_id_is_blind[e]&&"boolean"==typeof m_map_id_is_blind[e]._is_blind_?m_map_id_is_blind[e]._is_blind_:!1}function reg_args(e,t){e&&(m_map_id_args[e]=t)}function reg_date(e,t){e&&"function"==typeof setAttributeEx&&(setAttributeEx(e,"datepicker","true"),t&&setAttributeEx(e,"datepicker_format",t))}function set_extra_arg(e,t,_){e&&t&&(m_map_id_extra_args[e]||(m_map_id_extra_args[e]=Array()),m_map_id_extra_args[e][t]=_)}function get_extra_arg(e,t){return m_map_id_extra_args[e]&&"string"==typeof m_map_id_extra_args[e][t]?m_map_id_extra_args[e][t]:null}function get_extra_args(e){var t="";if(m_map_id_extra_args[e]&&"object"==typeof m_map_id_extra_args[e])for(var _ in m_map_id_extra_args[e]){var n=trim(_),o=get_extra_arg(e,n);o&&(t+="&"+encodeURIComponent(n)+"="+encodeURIComponent(o))}return t}function reg_lookup(e,t){e&&(m_lookup_request[e]||(m_lookup_request[e]=Array()),m_lookup_request[e].push(t))}function reg_flow(e,t){e&&(t._found_rows_||(t._found_rows_=0),t._limit_||(t._limit_=5),t._offset_||(t._offset_=0),t._order_||(t._order_=""),m_map_id_flow[e]=t)}function set_qid_container_id(e,t){e&&t&&(m_qid_to_containers[e]||(m_qid_to_containers[e]=Array()),m_qid_to_containers[e].push(t))}function get_container_qid(e){var t="";if(e){var _=find_flow_container_id(e);_&&m_map_id_flow[_]&&m_map_id_flow[_]._qid_&&(t=m_map_id_flow[_]._qid_)}return t}function set_container_role(e,t){e&&t&&(m_container_to_role[e]=t)}function get_container_role(e){return m_container_to_role[e]?m_container_to_role[e]:""}function set_container_limit(e,t){e&&"number"==typeof t&&(m_container_to_limit[e]=Math.max(1,t))}function get_container_limit(e){return m_container_to_limit[e]?m_container_to_limit[e]:1}function set_container_offset(e,t){m_map_id_flow[e]&&(m_map_id_flow[e]._offset_=Math.max(0,t))}function set_container_offset_from_select_index(e){var t=find_container_id_by_flow_role(e,"select");t&&set_container_offset(t,get_container_offset(t)+Math.max(0,get_select_index_relative(t,0)))}function get_container_offset(e){return m_map_id_flow[e]?m_map_id_flow[e]._offset_:0}function get_container_offset_last_row(e){return Math.max(0,get_container_found_rows(e)-get_container_limit(e))}function set_container_action(e,t){e&&t&&(m_container_to_action[e]=t)}function get_container_action(e){return m_container_to_action[e]?m_container_to_action[e]:ACTION_SELECT}function set_container_found_rows(e,t){m_map_id_flow[e]&&(m_map_id_flow[e]._found_rows_=Math.max(0,t))}function get_container_found_rows(e){return m_map_id_flow[e]?m_map_id_flow[e]._found_rows_:0}function get_container_order(e){return m_map_id_flow[e]?m_map_id_flow[e]._order_:""}function set_container_order(e,t){m_map_id_flow[e]&&(m_map_id_flow[e]._order_=t)}function set_order(e,t,_,n){var o="";if("_row_no_"==t)set_container_order(e,"");else switch(get_container_order(e)){case t:set_container_order(e,"za,"+t),o=" (decending)";break;case"za,"+t:default:set_container_order(e,t)}if(_){for(var i="",r=String.fromCharCode(8201)+String.fromCharCode(9830)+String.fromCharCode(8201),s=0;s<_.cells.length;s++)if(_.cells[s].innerHTML.indexOf(r)>=0){_.cells[s].innerHTML=_.cells[s].innerHTML.replace(r,"");break}_.cells[n].innerHTML&&"&nbsp;"!=_.cells[n].innerHTML&&(i="Sort Order: "+_.cells[n].innerHTML+o,_.cells[n].innerHTML=o?_.cells[n].innerHTML+r:r+_.cells[n].innerHTML),_.title=i}do_nav_first(e,find_container_id_by_flow_role(e,"search"))}function create_order_handler(e,t,_,n){return function(){set_order(e,t,_,n)}}function reg_overlay(e,t,_,n){m_flow_to_container[e]||(m_flow_to_container[e]=Array()),m_flow_to_container[e].push(t),m_container_to_flow[t]||(m_container_to_flow[t]=e),set_container_role(t,_),set_container_limit(t,n)}function find_flow_container_id(e){return m_container_to_flow[e]?m_container_to_flow[e]:""}function find_container_id_by_flow_role(e,t){var _="";if(e&&t){var n=find_flow_container_id(e);if(n)for(var o in m_flow_to_container[n])if(get_container_role(m_flow_to_container[n][o])==t){_=m_flow_to_container[n][o];break}}return _}function get_flow_first_search_container_id(){var e="";for(var t in m_map_id_flow){var _=find_container_id_by_flow_role(t,"search");if(_){e=_;break}}return e}function get_flow_basis_key_container_ids(){var e=Array();for(var t in m_map_id_flow)m_map_id_flow[t]._key_&&e.push(t);return e}function customize_background(){if(get_appid()){var e=find_css_element("#id_body_"+get_appid(),"background");e&&(document.body.style.background=e)}}function set_compatible_screen(){if(IS_MSIE6){var e=find_css_element("#id__iform__screen","background");if(e){var t=e.replace(".png",".gif");t!=e&&replace_css_element("#id__iform__screen","background",t)}}}function hilite_listener(e,t){if(t){var _=document.getElementById(t),n=find_css_element("class_layout_group_std","borderColor");_&&n&&(_.style.borderColor=n)}if(e){var o=document.getElementById(e),i=find_css_element("class_layout_group_listener","borderColor");o&&i&&(o.style.borderColor=i)}}function get_flow_info(e){var t=null;if(e&&m_map_id_flow[e]){var _=m_map_id_flow[e]._basis_?m_map_id_flow[e]._basis_:"",n="";for(var o in m_map_id_flow){if(o==e){t={parent_node_id:n,child_node_id:get_flow_child_container_id(e)};break}(!_||!is_flow_basis_container_id(o)&&_==m_map_id_flow[o]._basis_)&&(n=o)}}return t}function get_flow_child_container_id(e){var t="";if(e&&m_map_id_flow[e]&&m_map_id_flow[e]._basis_){var _=m_map_id_flow[e]._basis_,n="";for(var o in m_map_id_flow){if(n&&(is_flow_basis_container_id(o)||_==m_map_id_flow[o]._basis_)){t=o;break}o==e&&(n=!0)}}return t}function is_flow_basis_container_id(e){return e&&m_map_id_flow[e]&&m_map_id_flow[e]._basis_?!1:!0}function get_flow_basis_container_id(){var e=m_flow_basis_container_id;if(!e)for(var t in m_flow_to_container)if(is_flow_basis_container_id(t)){e=m_flow_basis_container_id=t;break}return e}function is_flow_col_container_id(e){return e&&m_map_id_flow[e]&&!get_flow_child_container_id(e)}function get_flow_col_next(e){var t="";if(!t)for(var _="",n=0;2>n&&!t;n++)for(var o in m_map_id_flow){if(_&&is_flow_col_container_id(o)){t=o;break}o==e&&(_=!0)}return t}function bind_vkey_listener(e){if(e&&e.id)for(var t=["input","textarea","select"],_=0;_<t.length;_++){var n=e.getElementsByTagName(t[_]);if(n&&n.length)for(var o=0;o<n.length;o++)n[o].onfocus||(n[o].onfocus=function(){do_vkey_listener_onfocus(e.id)})}}function bind_search_actions(container_id){if(container_id){var container=document.getElementById(container_id);if(container){var select_container_id=find_container_id_by_flow_role(container_id,"select"),control_elements=container.getElementsByTagName("button");if(control_elements&&control_elements.length)for(var i=0;i<control_elements.length;i++){var control_element=control_elements[i],control_name=control_element.getAttribute("name");switch(control_name){case"do_search":control_element.onclick||eval("control_element.onclick = function() { do_nav_first('"+select_container_id+"', '"+container_id+"'); }"),map_vkey_action(container_id,VKEY_ENTER,control_element.onclick);break;case"do_reset":control_element.onclick||eval("control_element.onclick = function() { do_nav_reset('"+select_container_id+"', '"+container_id+"'); }"),map_vkey_action(container_id,VKEY_ESC,control_element.onclick);break;case"do_add":control_element.onclick||eval("control_element.onclick = function() { do_add('"+select_container_id+"'); }"),map_vkey_action(container_id,VKEY_INSERT+VKEYMOD_CTRL,control_element.onclick)}}bind_vkey_listener(container)}}}function bind_select_actions(container_id){if(container_id){var container=document.getElementById(container_id);if(container){var search_container_id=find_container_id_by_flow_role(container_id,"search"),control_elements=container.getElementsByTagName("button");if(control_elements&&control_elements.length){for(var is_flow_col_focus_handler_needed=!0,i=0;i<control_elements.length;i++){var control_element=control_elements[i],control_name=control_element.getAttribute("name");switch(control_name){case"do_nav_first":control_element.onclick||eval("control_element.onclick = function() { do_nav_first('"+container_id+"', '"+search_container_id+"', '"+control_name+"'); }"),map_vkey_action(container_id,VKEY_HOME,control_element.onclick);break;case"do_nav_up":control_element.onclick||eval("control_element.onclick = function() { do_nav_up('"+container_id+"', '"+search_container_id+"', '"+control_name+"'); }"),map_vkey_action(container_id,VKEY_PGUP,control_element.onclick),map_vkey_action(container_id,VKEY_UP,function(){do_nav_row(container_id,-1,VKEY_PGUP)});break;case"do_nav_dn":control_element.onclick||eval("control_element.onclick = function() { do_nav_dn('"+container_id+"', '"+search_container_id+"', '"+control_name+"'); }"),map_vkey_action(container_id,VKEY_PGDN,control_element.onclick),map_vkey_action(container_id,VKEY_DN,function(){do_nav_row(container_id,1,VKEY_PGDN)});break;case"do_nav_last":control_element.onclick||eval("control_element.onclick = function() { do_nav_last('"+container_id+"', '"+search_container_id+"', '"+control_name+"'); }"),map_vkey_action(container_id,VKEY_END,control_element.onclick);break;case"do_nav_close":control_element.onclick||eval("control_element.onclick = function() { do_nav_close('"+container_id+"', '"+control_name+"'); }"),map_vkey_action(container_id,VKEY_LEFT,control_element.onclick),map_vkey_action(container_id,VKEY_ESC,control_element.onclick);break;case"do_add":control_element.onclick||eval("control_element.onclick = function() { do_add('"+container_id+"', '"+control_name+"'); }"),map_vkey_action(container_id,VKEY_INSERT,control_element.onclick),map_vkey_action(container_id,VKEY_INSERT+VKEYMOD_CTRL,control_element.onclick);break;case"do_edit":control_element.onclick||eval("control_element.onclick = function() { do_edit('"+container_id+"', '"+control_name+"'); }"),map_vkey_action(container_id,VKEY_RIGHT+VKEYMOD_CTRL,control_element.onclick),map_col_action(container_id,control_element.onclick),map_row_action(container_id);break;case"do_delete":control_element.onclick||eval("control_element.onclick = function() { do_delete('"+container_id+"', '"+control_name+"'); }"),map_vkey_action(container_id,VKEY_DELETE,control_element.onclick);break;case"do_nav_select":control_element.onclick||eval("control_element.onclick = function() { do_nav_select('"+container_id+"', '"+control_name+"'); }"),map_vkey_action(container_id,VKEY_RIGHT,control_element.onclick),map_vkey_action(container_id,VKEY_ENTER,control_element.onclick),map_row_action(container_id,control_element.onclick),is_flow_col_focus_handler_needed=!1}}is_flow_col_focus_handler_needed&&map_vkey_action(container_id,VKEY_RIGHT,function(){set_container_focus(get_flow_col_next(container_id),!0,!0)})}bind_vkey_listener(container)}}}function bind_input_actions(container_id){if(container_id){var container=document.getElementById(container_id);if(container){var select_container_id=find_container_id_by_flow_role(container_id,"select"),control_elements=container.getElementsByTagName("button");if(control_elements&&control_elements.length)for(var i=0;i<control_elements.length;i++){var control_element=control_elements[i],control_name=control_element.getAttribute("name");switch(control_name){case"do_exchange":control_element.onclick||eval("control_element.onclick = function() { do_ok('"+select_container_id+"', '"+container_id+"'); }"),map_vkey_action(container_id,VKEY_OK,control_element.onclick);break;case"do_cancel":control_element.onclick||eval("control_element.onclick = function() { do_cancel('"+select_container_id+"', '"+container_id+"'); }"),map_vkey_action(container_id,VKEY_CANCEL,control_element.onclick)}}bind_vkey_listener(container)}}}function bind_containers(){for(var e in m_container_to_role){var t=m_container_to_role[e];switch(t){case"search":bind_search_actions(e);break;case"select":bind_select_actions(e);break;case"input":bind_input_actions(e)}reset_container(e),set_qid_container_id(get_container_qid(e),e)}set_container_focus(get_flow_first_search_container_id())}function process_change(e){if(e&&e.id)for(var t in m_lookup_request)for(var _ in m_lookup_request[t]){var n=m_lookup_request[t][_];if(n.basis_id==e.id)return void do_lookup(e,t,n.qid)}}function do_init(e){customize_background(),set_compatible_screen(),e&&e.skip_page_mark_attrs||set_page_mark_attrs(),bind_containers(),add_vkey_event_handler(),add_resize_event_handler(),add_onscroll_event_handler()}function set_appid(e){g_appid="string"==typeof e?e:""}function get_appid(){return g_appid}function set_pid(e){g_pid="string"==typeof e?e:""}function get_pid(){return g_pid}function set_page_mark_attrs(){var e=get_pid();e&&"welcome"!=e&&"login"!=e&&"logout"!=e&&("synapp2"==get_appid()?set_synapp2_cookie(get_appid(),document.title+"@"+document.URL):set_synapp2_cookie(get_appid(),get_appid()+" "+document.title+"@"+document.URL))}function get_page_mark_attrs(){var e=null,t=get_pid();if(t&&"welcome"!=t&&"login"!=t&&"logout"!=t){var _=get_cookie("appid");if(_){var n=get_cookie("synapp2"==get_appid()?_:"synapp2").split("@");if(n&&2==n.length){var o=n[0].indexOf(" ");e={app:n[0].substring(0,o),title:n[0].substring(o),url:n[1]}}}}return e}function set_mark_appid_db(e){set_session_cookie("appid",e),set_container_msg_markup("")}function get_mark_appid_db(){return get_cookie("appid")}function set_caption(e){set_element_text_by_id(m_control_bar_caption_id,e)}function set_prompt(e){set_element_text_by_id(m_control_bar_prompt_id,e)}function hide_show(e,t,_){var n=null;if(e&&(n=document.getElementById(e))){var o={display:"",top:"",left:"",zIndex:""};o.display=get_element_style_property_value(n,"display"),o.top=get_element_style_property_value(n,"top"),o.left=get_element_style_property_value(n,"left"),o.zIndex=get_element_style_property_value(n,"zIndex"),m_default_style[e]||(m_default_style[e]={display:o.display,top:o.top,left:o.left,zIndex:o.zIndex});var i={display:o.display,top:o.top,left:o.left,zIndex:o.zIndex};switch("string"!=typeof t&&(t="default"),"number"!=typeof _&&(_=m_default_style[e].zIndex),t){case"hide":i.display="none",i.zIndex=m_default_style[e].zIndex;break;case"show":i.display="inline"==m_default_style[e].display?"inline":"block",i.zIndex=_;break;default:alert("hide_show() - invalid state: "+t);case"default":i.display=m_default_style[e].display,i.zIndex=m_default_style[e].zIndex}n.style.zIndex=i.zIndex,n.style.display=i.display}}function set_container_focus(e,t,_){if(e||!t){var n=e?document.getElementById(e):document;if(n){var o="";if("select"==get_container_role(e)){var i=_?Math.max(0,get_select_index_relative(e,0)):0;set_select_state_exclusive(e,i)}else for(var r=["input","textarea","select"],s=0;!o&&s<r.length;s++){var a=n.getElementsByTagName(r[s]);if(a&&a.length)for(var c=0;c<a.length;c++)if(a[c].id&&!a[c].readOnly&&!a[c].disabled&&("input"!=r[s]||"text"==a[c].type)){o=a[c].id;break}}o&&set_focus(o)}}}function reset_container(e){if(e){var t=document.getElementById(e);if(t){var _=t.getElementsByTagName("input");if(_&&_.length)for(var n=0;n<_.length;n++){var o=_[n];"text"==o.type?o.value="":("radio"==o.type||"checkbox"==o.type)&&(o.checked=!1,o.value="")}if(_=t.getElementsByTagName("select"),_&&_.length)for(var n=0;n<_.length;n++)if(_[n].options&&_[n].options.length&&!_[n].onchange)for(var i=0;i<_[n].options.length;i++){var r=_[n].options[i];r.selected!=r.defaultSelected&&(r.selected=r.defaultSelected)}if(_=t.getElementsByTagName("textarea"),_&&_.length)for(var n=0;n<_.length;n++)_[n].value="";set_element_text_by_id(e+g_found_rows_id_suffix,""),manage_nav_controls(e,{disable_all:!0})}}}function resize_container(container_id,row_size){if(container_id){var tbody_rows=get_table_rows(container_id);if(tbody_rows&&tbody_rows.length){1>row_size&&(row_size=1),eval(var_const+"TEMPLATE_ROW = 0;"),eval(var_const+"ACTION_COL = 1;");for(var row_template=tbody_rows[TEMPLATE_ROW],i=0;i<row_template.cells.length;i++)i==CHECKBOX_COL?row_template.cells[CHECKBOX_COL].firstChild.value="":(row_template.cells[i].onclick||(i==ACTION_COL?row_template.cells[ACTION_COL].onclick=create_col_action_handler(container_id,0):row_template.cells[i].onclick=create_row_action_handler(container_id,0)),row_template.cells[i].innerHTML="&nbsp;");if(tbody_rows.length<row_size)for(var table_element=row_template.parentNode.parentNode,table_element_class=table_element&&table_element.className?table_element.className:"",bcg_even_row=find_css_element(table_element_class+"_bcg_even_row","backgroundColor");tbody_rows.length<row_size;){var row_element=row_template.parentNode.insertRow(tbody_rows.length);!bcg_even_row||tbody_rows.length%2||(row_element.style.backgroundColor=bcg_even_row);for(var i=0;i<row_template.cells.length;i++){var c=row_element.insertCell(row_element.cells.length),display=row_template.cells[i].style.display;if(c.style.display!=display&&(c.style.display=display),i==CHECKBOX_COL)c.innerHTML=row_template.cells[i].innerHTML;else{c.innerHTML="&nbsp;",c.onclick=i==ACTION_COL?create_col_action_handler(container_id,tbody_rows.length-1):create_row_action_handler(container_id,tbody_rows.length-1);var width=row_template.cells[i].style.width;c.style.width!=width&&(c.style.width=width);var whiteSpace=row_template.cells[i].style.whiteSpace;c.style.whiteSpace!=whiteSpace&&(c.style.whiteSpace=whiteSpace);var textAlign=row_template.cells[i].style.textAlign;c.style.textAlign!=textAlign&&(c.style.textAlign=textAlign)}}}else for(;tbody_rows.length>row_size;)row_template.parentNode.deleteRow(tbody_rows.length-1);for(var r=0;r<tbody_rows.length;r++)tbody_rows[r].cells.length&&(tbody_rows[r].cells[CHECKBOX_COL].firstChild.onclick||(tbody_rows[r].cells[CHECKBOX_COL].firstChild.onclick=create_select_handler(container_id,tbody_rows,r)),!tbody_rows[r].cells[CHECKBOX_COL].firstChild.onfocus&&tbody_rows[TEMPLATE_ROW].cells[CHECKBOX_COL].firstChild.onfocus&&(tbody_rows[r].cells[CHECKBOX_COL].firstChild.onfocus=tbody_rows[TEMPLATE_ROW].cells[CHECKBOX_COL].firstChild.onfocus));var thead_rows=get_table_rows(container_id,!0);if(thead_rows&&thead_rows.length){thead_rows[TEMPLATE_ROW].cells[CHECKBOX_COL].onclick||(thead_rows[TEMPLATE_ROW].cells[CHECKBOX_COL].onclick=create_sync_select_all_handler(container_id,thead_rows[TEMPLATE_ROW].cells[CHECKBOX_COL].firstChild));for(var c=0;c<row_template.cells.length&&c<thead_rows[TEMPLATE_ROW].cells.length;c++)c==CHECKBOX_COL||thead_rows[TEMPLATE_ROW].cells[c].onclick||(thead_rows[TEMPLATE_ROW].cells[c].onclick=create_order_handler(container_id,row_template.cells[c].getAttribute("axis"),thead_rows[TEMPLATE_ROW],c))}}}}function show_container(e,t){var _=get_container_role(e),n="input"==_,o="display"==_,i="select"==_,r=get_flow_info(find_container_id_by_flow_role(e,"select"));if(r){var s=!t&&(n||i&&r.child_node_id),a=s?n?4:2:null;if(o)hide_show(find_container_id_by_flow_role(e,"search"),"hide"),hide_show(find_container_id_by_flow_role(e,"select"),"default"),hide_show(e,"show",a);else if(i){var c=find_container_id_by_flow_role(e,"search"),l=find_container_id_by_flow_role(e,"display");t?(reset_container(l),hide_show(l,"default"),set_container_focus(c,!0),hide_show(c,"default"),reset_container(e),hide_show(e,"default")):(reset_container(l),hide_show(l,"hide"),hide_show(c,"show",a),hide_show(e,"show",a),set_container_focus(e))}if(s?(hide_show(g_screen_id,"show",a-1),do_resize_action()):hide_show(g_screen_id,"default"),n)if(t)reset_container(find_container_id_by_flow_role(e,"search")),reset_container(e),hide_show(e,"default");else{var d=get_pos(document.getElementById(g_screen_id)),m=document.getElementById(e);m&&(m.style.top=Math.max(d.top,get_viewport_offset_top())+"px",m.style.left=Math.max(d.left,get_viewport_offset_left())+"px"),hide_show(e,"show",a),set_container_focus(e)}}}function update_expanded_elements(e,t){if(e&&t&&t.length){var _=document.getElementById(e);if(_)for(var n=["input","select"],o=0;o<n.length;o++){var i=_.getElementsByTagName(n[o]);if(i&&i.length)for(var r=0;r<t.length;r++){var s=t[r];if(s){var a=s.getAttribute("name");if(a){var c=get_named_element(i,a);if(c){remove_select_options(c);var l=s.getElementsByTagName("option");if(l&&l.length)for(var d=0;d<l.length;d++){var m=l[d].firstChild;if(m&&3==m.nodeType){var f=l[d].getAttribute("value"),u=m.nodeValue;append_select_option(c,f,u)}}}}}}}}}function set_select_state_one(e){e&&e.value&&!e.checked&&e.onclick&&(e.checked=!0,e.onclick())}function set_select_state_exclusive(e,t){var _=get_table_rows(e);if(_){for(var n=0;n<_.length;n++){var o=_[n].cells[CHECKBOX_COL].firstChild;n!=t&&clr_select_state_one(o)}if(t>=0&&t<_.length){var o=_[t].cells[CHECKBOX_COL].firstChild;set_select_state_one(o),o.focus()}}}function set_select_state_all(e){var t=get_table_rows(e);if(t)for(var _=0;_<t.length;_++)set_select_state_one(t[_].cells[CHECKBOX_COL].firstChild)}function clr_select_state_one(e){e&&e.checked&&e.onclick&&(e.checked=!1,e.onclick())}function clr_select_state_all(e){var t=get_table_rows(e);if(t)for(var _=0;_<t.length;_++)clr_select_state_one(t[_].cells[CHECKBOX_COL].firstChild)}function sync_select_state_all(e,t){t&&t.checked?set_select_state_all(e):clr_select_state_all(e)}function create_sync_select_all_handler(e,t){return function(){sync_select_state_all(e,t)}}function get_select_value(e){return e&&e.checked?e.value:""}function get_select_value_first(e){var t="",_=get_table_rows(e);if(_)for(var n=0;n<_.length;n++){var o=get_select_value(_[n].cells[CHECKBOX_COL].firstChild);if(o){t=o;break}}return t}function get_select_values_all(e){var t=Array(),_=get_table_rows(e);if(_)for(var n=0;n<_.length;n++){var o=get_select_value(_[n].cells[CHECKBOX_COL].firstChild);o&&t.push(o)}return t}function get_select_index_relative(e,t){var _=-1,n=get_table_rows(e);if(n)for(var o=0;o<n.length;o++)if(get_select_value(n[o].cells[CHECKBOX_COL].firstChild)){t?0>t&&o?_=o-1:t>0&&o+1<n.length&&(_=o+1):_=o;break}return _}function get_selection_row_count(e){return get_select_values_all(e).length}function is_selection(e){return get_selection_row_count(e)>0}function is_selection_single(e){return 1==get_selection_row_count(e)}function is_selection_short(e){var t=!1;if(is_flow_basis_container_id(e)){var _=get_flow_basis_key_container_ids(),n=0;for(var o in _)is_selection_single(_[o])&&n++;n<_.length&&(t=!0)}return t}function toggle_select_hilite(e){var t=get_element_style_property_value(e,"color");e.style.color=get_element_style_property_value(e,"background-color","backgroundColor"),e.style.backgroundColor=t}function on_select_state_change(e){manage_nav_controls(e,{selection_dependent_only:!0}),is_flow_basis_container_id(e)||manage_nav_controls(get_flow_basis_container_id(),{selection_dependent_only:!0})}function create_select_handler(e,t,_){return function(){toggle_select_hilite(t[_]),on_select_state_change(e)}}function map_col_action(e,t){e&&"function"==typeof t&&(m_map_id_col_action[e]=function(_){set_select_state_exclusive(e,_),setTimeout(t,25)})}function create_col_action_handler(e,t){return function(){do_col_action(e,t)}}function do_col_action(e,t){"function"==typeof m_map_id_col_action[e]&&m_map_id_col_action[e](t)}function map_row_action(e,t){e&&(m_map_id_row_action[e]="function"==typeof t?function(_){set_select_state_exclusive(e,_),setTimeout(t,25)}:function(t){set_select_state_exclusive(e,t)})}function create_row_action_handler(e,t){return function(){do_row_action(e,t)}}function do_row_action(e,t){"function"==typeof m_map_id_row_action[e]&&m_map_id_row_action[e](t)}function nav_control_state_handler(e,t){if(e&&"object"==typeof e){var _=e.getElementsByTagName("img");if(_&&_.length){var n=_[0],o=n.getAttribute("src");if(o&&o.contains("action_")){var i=o.contains("_gray.");t&&!i?n.setAttribute("src",o.replace(".gif","_gray.gif")):!t&&i&&n.setAttribute("src",o.replace("_gray.","."))}}"boolean"==typeof e.disabled&&(e.disabled=t||"none"==e.style.display?!0:!1)}}function nav_control_is_disabled(e,t){var _=!1;if(e&&t){var n=document.getElementById(e);if(n)for(var o=["button"],i=0;i<o.length;i++){var r=n.getElementsByTagName(o[i]);if(r&&r.length)for(var s=0;s<r.length;s++){var a=r[s];if(a&&a.getAttribute("name")==t){"boolean"==typeof a.disabled&&(_=a.disabled?!0:!1);break}}}}return _}function manage_nav_controls(e,t){if(e&&t&&"select"==get_container_role(e)){var _=document.getElementById(e);if(_)for(var n=["button"],o=0;o<n.length;o++){var i=_.getElementsByTagName(n[o]);if(i&&i.length)for(var r=0;r<i.length;r++){var s=i[r],a=s.getAttribute("name");if(a&&t.disable_all)nav_control_state_handler(s,!0);else if(t.selection_dependent_only)switch(a){case"do_add":nav_control_state_handler(s,is_selection_short(e));break;case"do_edit":case"do_nav_select":nav_control_state_handler(s,!is_selection_single(e));break;case"do_delete":nav_control_state_handler(s,!is_selection(e))}else switch(a){case"do_nav_first":case"do_nav_up":nav_control_state_handler(s,t.firstpage?!0:!1);break;case"do_nav_last":case"do_nav_dn":nav_control_state_handler(s,t.lastpage?!0:!1);break;case"do_nav_close":nav_control_state_handler(s,!1)}}}}}function manage_auth_action_controls(e){if(e)for(var t in e)if(m_qid_to_containers[t])for(var _=m_qid_to_containers[t],n=0;n<_.length;n++){var o=document.getElementById(_[n]);if(o)for(var i=["button"],r=0;r<i.length;r++){var s=o.getElementsByTagName(i[r]);if(s&&s.length)for(var a=0;a<s.length;a++){var c=s[a],l=s[a].getAttribute("name");"do_add"==l?in_array(e[t],"_auth_add_")||(nav_control_state_handler(c,!0),c.style.display="none"):"do_edit"==l?in_array(e[t],"_auth_edit_")||(nav_control_state_handler(c,!0),c.style.display="none"):"do_delete"==l&&(in_array(e[t],"_auth_delete_")||(nav_control_state_handler(c,!0),c.style.display="none"))}}}}function get_delete_confirm_msg(e){return"Do you want to delete the "+(e>1?e+" selected records?":"selected record?")}function set_container_msg_markup(e,t){t&&"string"==typeof t||(t=m_page_msg_id);var _=document.getElementById(t);_&&"string"==typeof e&&(_.innerHTML=e)}function debug_msg(e,t){if((!m_debug_msg_window||m_debug_msg_window.closed)&&(m_debug_msg_window=window.open("","Messages","width=700, height=500, scrollbars=1, resizable=1")),m_debug_msg_window){var _=m_debug_msg_window.document;_.open(),_.write("<html><head><title>SynApp2 Messages</title></head><body><textarea rows=200 cols=180>"),_.write("string"==typeof e&&e.length?e:"empty"),_.write("</textarea></body></html>"),_.close(),(t||m_debug_msg_window_to_front)&&m_debug_msg_window.focus&&m_debug_msg_window.focus()
}}function event_msg_is_enabled(){return m_event_msg_is_enabled}function event_msg(e){event_msg_is_enabled()&&((!m_event_msg_window||m_event_msg_window.closed)&&(m_event_msg_window=window.open("","Events","width=700, height=500, scrollbars=1, resizable=1"),m_event_msg_window.document.write("<title>SynApp2 Event Messages</title>")),m_event_msg_window&&m_event_msg_window.document.write('<pre style="display:inline;">'+e+"<br /></pre>"))}function process_search_string(){for(var e=unescape(document.location.search.substring(1)),t=e.split(/\&/),_=0;_<t.length;_++){var n=t[_].split(/\=/);2==n.length&&(window["g_search_"+n[0]]=n[1])}}function show_busy(){document.body.style.cursor="wait",window.status="SynApp2 - Wait..."}function show_progress(){document.body.style.cursor="progress",window.status="SynApp2 - Working..."}function show_ready(){window.status="SynApp2 - Ready.",document.body.style.cursor="default"}function do_vkey_listener_onfocus(e){e&&(hilite_listener(e,m_map_id_vkey_listener.length?m_map_id_vkey_listener[0]:""),m_map_id_vkey_listener=[e])}function map_vkey_action(e,t,_,n){e&&t&&"function"==typeof _&&(m_map_id_vkey_action[e+"__"+t]=_,n&&(m_map_id_vkey_listener=[e]))}function do_vkey_action(e,t,_,n){var o=null;if(e)for(var i=0;i<m_map_id_vkey_listener.length;i++){var r=m_map_id_vkey_listener[i]+"__"+e;if(_&&(r+=VKEYMOD_CTRL),n&&(r+=VKEYMOD_ALT),t&&(r+=VKEYMOD_SHIFT),"function"==typeof m_map_id_vkey_action[r]){window.setTimeout(m_map_id_vkey_action[r],25),o=!0;break}}return o}function vkey_event_handler(e){e||(e=window.event);var t=!0,_=!1;return e.keyCode==VKEY_ENTER&&(e.target&&"button"==e.target.nodeName.toLowerCase()||e.srcElement&&"button"==e.srcElement.nodeName.toLowerCase())&&(_=!0),!_&&e.keyCode>VKEY_LIMIT_LO&&e.keyCode<VKEY_LIMIT_HI&&do_vkey_action(e.keyCode,e.shiftKey,e.ctrlKey,e.altKey)&&(t=!1,e.preventDefault&&e.stopPropagation&&(e.preventDefault(),e.stopPropagation())),t}function add_vkey_event_handler(){"function"==typeof document.addEventListener?document.addEventListener("keydown",vkey_event_handler,!1):"undefined"!=typeof document.attachEvent&&document.attachEvent("onkeydown",vkey_event_handler)}function do_resize_action(){var e=document.getElementById(g_content_id),t=document.getElementById(g_screen_id);if(e&&t){var _=get_window_dimensions(),n=get_pos(e);t.style.width=_.width-n.left+get_viewport_offset_left()+"px",t.style.height=_.height-n.top+get_viewport_offset_top()+"px"}}function resize_event_handler(){do_resize_action()}function add_resize_event_handler(){window.onresize=resize_event_handler}function onscroll_event_handler(){do_resize_action()}function add_onscroll_event_handler(){window.onscroll=onscroll_event_handler}function set_drag_items(e){if(m_drag_items=Array(),"object"==typeof e)for(var t=0;t<e.length;t++){var _=e[t],n=null;_&&(n=document.getElementById(_))&&(m_drag_items[_]=n,DragHandler.attach(n),n.dragBegin=function(e,t,_){return on_item_dragBegin(e,t,_),!1},n.drag=function(e,t,_){return on_item_drag(e,t,_),!1},n.dragEnd=function(e,t,_){return on_item_dragEnd(e,t,_),!1})}}function set_drag_targets(e,t){if(m_drag_targets=Array(),"object"==typeof e){for(var _=0;_<e.length;_++){var n=e[_],o=null;n&&(o=document.getElementById(n))&&(m_drag_targets[n]=o)}"boolean"==typeof t&&1==t&&notify_targets_dragBegin()}}function on_item_dragBegin(e,t,_){"function"==typeof on_dragBegin&&on_dragBegin(e,t,_)}function notify_targets_dragBegin(){if("function"==typeof on_target_dragBegin&&"object"==typeof m_drag_targets)for(var e in m_drag_targets){var t=m_drag_targets[e];t&&on_target_dragBegin(t)}}function notify_targets_dragEnd(){if("function"==typeof on_target_dragEnd&&"object"==typeof m_drag_targets)for(var e in m_drag_targets){var t=m_drag_targets[e];t&&on_target_dragEnd(t)}}function on_item_drag(e,t,_){"function"==typeof on_drag&&on_drag(e,t,_)}function on_item_dragEnd(e,t,_){notify_targets_dragEnd(),"function"==typeof on_dragEnd?on_dragEnd(e,get_drag_target(e,t,_),t,_):alert("function on_dragEnd(drag_item, drag_target, dx, dy) {} - not implemented!")}function get_drag_target(e){var t=null;if("object"==typeof m_drag_targets){var _=get_pos(e),n=_.left,o=_.top;for(var i in m_drag_targets){var r=m_drag_targets[i];if(r){var _=get_pos(r),s=_.left,a=s+r.offsetWidth,c=_.top,l=c+r.offsetHeight;if(n>=s&&a>=n&&o>=c&&l>=o){t=r;break}}}}return t}function set_focus(e){if(e){var t=null;if(t=document.getElementById(e))try{t.focus(),"input"==t.nodeName.toLowerCase()&&"text"==t.type&&t.select()}catch(_){alert("Cannot set focus to: "+e)}}}function get_named_element(e,t){var _=null;if(e&&e.length&&t)for(var n=0;n<e.length;n++){var o=e[n];if(o&&o.getAttribute&&o.getAttribute("name")==t){_=o;break}}return _}function set_input_text_value(e,t){if("string"==typeof e&&e.length){var _=document.getElementById(e);_&&(_.value=t)}}function get_input_text_value(e){var t="";if("string"==typeof e&&e.length){var _=document.getElementById(e);_&&(t=_.value)}return t}function set_element_text(e,t){try{e.innerHTML=t}catch(_){}}function set_element_text_by_id(e,t){if(e){var _=document.getElementById(e);_&&set_element_text(_,t)}}function remove_select_options(e){if(e){var t=e.getElementsByTagName("option");if(t&&e.remove)for(var _=t.length-1;_>=0;_--)e.remove(_)}}function append_select_option(e,t,_){if(e){var n=e.nodeName.toLowerCase();if("select"==n){var o=document.createElement("option");o.value=t,o.text=_;try{e.add(o,null)}catch(i){e.add(o)}}else"input"==n&&(e.value=_)}}function get_table_rows(e,t){var _=null;if(e){var n=document.getElementById(e);if(n){var o=n.getElementsByTagName(t?"thead":"tbody");o&&o.length&&(_=o[0].rows)}}return _}function get_container_thead_rows(e){return get_table_rows(e,!0)}function get_element_style_property_value(e,t,_){var n="";if(e.currentStyle){var o="string"==typeof _?_:t;n=e.currentStyle[o]}else document.defaultView&&(n=document.defaultView.getComputedStyle(e,null).getPropertyValue(t));return n}function find_css_element(e,t){for(var _=null,n=IS_MSIE?"rules":"cssRules",o=0;!_&&o<document.styleSheets.length;o++)for(var i=0;!_&&i<document.styleSheets[o][n].length;i++)document.styleSheets[o][n][i].selectorText.contains(e)&&document.styleSheets[o][n][i].style[t]&&(_=document.styleSheets[o][n][i].style[t]);return _}function replace_css_element(e,t,_){for(var n=null,o=IS_MSIE?"rules":"cssRules",i=0;!n&&i<document.styleSheets.length;i++)for(var r=0;!n&&r<document.styleSheets[i][o].length;r++)document.styleSheets[i][o][r].selectorText.contains(e)&&document.styleSheets[i][o][r].style[t]&&(document.styleSheets[i][o][r].style[t]=_)}function in_array(e,t){if("object"==typeof e)for(var _ in e)if(e[_]===t)return!0;return!1}function get_array_index(e,t){var _=-1;if("object"==typeof e)for(var n=0;n<e.length;n++)if(e[n]==t){_=n;break}return _}function ltrim(e,t){return t=t||"\\s",e.replace(new RegExp("^["+t+"]+","g"),"")}function rtrim(e,t){return t=t||"\\s",e.replace(new RegExp("["+t+"]+$","g"),"")}function trim(e,t){return ltrim(rtrim(e,t),t)}function set_cookie(e,t,_){var n="";if(_){var o=new Date;o.setTime(o.getTime()+24*_*60*60*1e3),n="; expires="+o.toGMTString()}var i=e+"="+encodeURIComponent(t)+n+"; path=/";document.cookie=i}function set_session_cookie(e,t){set_cookie(e,t,0)}function set_synapp2_cookie(e,t){set_cookie(e,t,32)}function delete_cookie(e){set_cookie(e,"",-1)}function get_cookie(e){for(var t="",_=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var i=n[o];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(_)){t=decodeURIComponent(i.substring(_.length,i.length));break}}return t}function get_pos(e){for(var t=0,_=0;e;)t+=e.offsetLeft,_+=e.offsetTop,e=e.offsetParent;return{top:_,left:t}}function get_viewport_offset_top(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function get_viewport_offset_left(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0}function get_viewport_offset(){return{top:get_viewport_offset_top(),left:get_viewport_offset_left()}}function get_window_dimensions(){var e=document.documentElement&&document.documentElement.clientWidth||window.innerWidth||self.innerWidth||document.body.clientWidth,t=document.documentElement&&document.documentElement.clientHeight||window.innerHeight||self.innerHeight||document.body.clientHeight;return{x:e,y:t,width:e,height:t,top:0,right:e,bottom:t,left:0}}var force_var=1,is_ie=navigator.userAgent.indexOf("MSIE ")>0?!0:!1,is_ie6=navigator.userAgent.indexOf("MSIE 6")>0?!0:!1,is_ff=navigator.userAgent.indexOf("Firefox")>0?!0:!1,is_safari=navigator.userAgent.indexOf("Safari")>0&&navigator.userAgent.indexOf("Chrome")<0?!0:!1,is_chrome=navigator.userAgent.indexOf("Safari")>0&&navigator.userAgent.indexOf("Chrome")>0?!0:!1,is_opera=navigator.userAgent.indexOf("Opera")>=0?!0:!1,var_const=force_var||is_ie?"var ":"const ";eval(var_const+"IS_MSIE       = is_ie;"),eval(var_const+"IS_MSIE6      = is_ie6;"),eval(var_const+"IS_FF         = is_ff;"),eval(var_const+"IS_SAFARI     = is_safari;"),eval(var_const+"IS_CHROME     = is_chrome;"),eval(var_const+"IS_OPERA      = is_opera;"),eval(var_const+"APP_NAV           = '_app_nav_';"),eval(var_const+"SUB_NAV           = '_sub_nav_';"),eval(var_const+"SUB_NAV_ACTIVE    = '_sub_nav_active_';"),eval(var_const+"SUB_NAV_CALLBACK  = '_sub_nav_callback_';"),eval(var_const+"SUB_NAV_STYLE     = '_sub_nav_style_';"),eval(var_const+"SUB_NAV_OPTIONS   = '_sub_nav_options_';"),eval(var_const+"ALT_APPID     = '_request_appid_';"),eval(var_const+"_SHARED_      = '../_shared_/';"),eval(var_const+"ACTION_URL    = _SHARED_ + 'action.php';"),eval(var_const+"ACTION_INIT   = 'init';"),eval(var_const+"ACTION_SELECT = 'select';"),eval(var_const+"ACTION_INSERT = 'insert';"),eval(var_const+"ACTION_UPDATE = 'update';"),eval(var_const+"ACTION_DELETE = 'delete';"),eval(var_const+"MODE_GET_NORM = 'get_norm';"),eval(var_const+"MODE_GET_INIT = 'get_init';"),eval(var_const+"MODE_PUT_NORM = 'put_norm';"),eval(var_const+"MODE_REPORT   = 'report';"),eval(var_const+"MODE_ADHOC    = 'adhoc';"),eval(var_const+"MODE_FETCH    = 'fetch';"),eval(var_const+"MODE_CLOSE    = 'close';"),eval(var_const+"MODE_CANCEL   = 'cancel';");var cxl=function(e){this.init(),this.set_pid(e),this.set_request_action(ACTION_SELECT)},g_exchange_id=0;cxl.prototype.init=function(){this.m_exchange_id=++g_exchange_id,this.m_next=null,this.m_request_object=null,this.m_container_id="",this.m_feedback_id="",this.m_filter_map=Array(),this.m_send_request_pk=!1,this.m_request_action="",this.m_request_mode="",this.m_request_pid="",this.m_request_qid="",this.m_request_show_response=!1},cxl.prototype.init_response=function(){this.m_response_version="",this.m_response_setup="",this.m_response_authentication="",this.m_response_authorization="",this.m_response_logout="",this.m_response_affected_rows=0,this.m_response_found_rows=0,this.m_response_insert_offset=0,this.m_response_rows=0,this.m_response_cols=0,this.m_response_firstpage=1,this.m_response_lastpage=1,this.m_response_feedback=Array(),this.m_response_is_adhoc=!1,this.m_response_axis=""},cxl.prototype.set_pid=function(e){this.m_request_pid="string"==typeof e?e:get_pid()},cxl.prototype.get_pid=function(){return this.m_request_pid},cxl.prototype.set_container=function(e){this.m_container_id="string"==typeof e?e:""},cxl.prototype.set_qid=function(e){"string"==typeof e&&(this.m_request_qid=e)},cxl.prototype.set_send_request_pk=function(){this.m_send_request_pk=!0},cxl.prototype.get_send_request_pk=function(){return this.m_send_request_pk},cxl.prototype.set_request_action=function(e){if("string"==typeof e)switch(e){case ACTION_INIT:case ACTION_SELECT:case ACTION_INSERT:case ACTION_UPDATE:case ACTION_DELETE:this.m_request_action=e}},cxl.prototype.set_request_mode_report=function(){this.m_request_mode=MODE_REPORT},cxl.prototype.set_request_mode_adhoc=function(){this.m_request_mode=MODE_ADHOC},cxl.prototype.set_request_mode_fetch=function(){this.m_request_mode=MODE_FETCH},cxl.prototype.set_request_mode_close=function(){this.m_request_mode=MODE_CLOSE},cxl.prototype.set_request_mode_cancel=function(){this.m_request_mode=MODE_CANCEL},cxl.prototype.set_filter=function(e,t){if("string"==typeof e&&"string"==typeof t){var _=trim(e),n=trim(t);_.length&&n.length&&(this.m_filter_map[_]=n)}},cxl.prototype.get_filter=function(e){return this.m_filter_map[e]?this.m_filter_map[e]:""},cxl.prototype.set_show_response=function(e){this.m_request_show_response=e?!0:!1},cxl.prototype.get_request_args=function(e){var t="";if("string"==typeof e&&e&&this.set_qid(e),this.m_request_mode==MODE_REPORT||this.m_request_mode==MODE_ADHOC||this.m_request_mode==MODE_FETCH||this.m_request_mode==MODE_CLOSE||this.m_request_mode==MODE_CANCEL);else switch(this.m_request_action){case ACTION_INSERT:case ACTION_UPDATE:case ACTION_DELETE:this.m_request_mode=MODE_PUT_NORM;break;case ACTION_INIT:this.m_request_mode=MODE_GET_INIT,this.m_request_action=ACTION_SELECT;break;case ACTION_SELECT:default:this.m_request_mode=MODE_GET_NORM}t+="_request_action_="+this.m_request_action,t+="&_request_mode_="+this.m_request_mode,t+="&_request_pid_="+this.get_pid(),this.m_feedback_id=this.m_container_id+g_feedback_id_suffix;var _=this.get_filter(this.m_container_id);t+=this.get_container_args(this.m_container_id),t+=this.get_input_value_args(_?_:this.m_container_id),this.m_request_qid||(this.m_request_qid=get_container_qid(this.m_container_id)),t+="&_request_qid_="+this.m_request_qid,get_extra_arg(this.get_pid(),ALT_APPID)||get_extra_arg(this.m_request_qid,ALT_APPID)||(t+="&_request_appid_="+get_appid());var n=get_extra_args(this.get_pid());n&&(t+=n);var o=get_extra_args(this.m_request_qid);return o&&(t+=o),t+=this.get_request_flow(),(this.m_request_show_response||"string"==typeof g_search_show_response)&&(t+="&_request_show_response_=true"),t},cxl.prototype.get_container_args=function(e){var t="";if(m_map_id_args[e]&&"object"==typeof m_map_id_args[e])for(var _ in m_map_id_args[e])if(_){var n=m_map_id_args[e][_];t+="&"+encodeURIComponent("_request"+_)+"="+encodeURIComponent(n)}return t},cxl.prototype.get_input_value_args=function(e){var t="";if("string"==typeof e&&e.length&&this.m_request_mode!=MODE_FETCH){var _=document.getElementById(e);if(_){var n=_.getElementsByTagName("input");if(n&&n.length)for(var o=0;o<n.length;o++){var i=n[o];if(!is_blind(i.id)&&("radio"!=i.type&&"checkbox"!=i.type||i.checked)&&"button"!=i.type){var r=i.name,s=i.value;r&&(t+="&"+encodeURIComponent(r)+"="+encodeURIComponent(s))}}var a=_.getElementsByTagName("select");if(a&&a.length)for(var o=0;o<a.length;o++){var c=a[o],r=c.name;if(r){t+="&_request_col_expand_[]="+encodeURIComponent(r);for(var l=0,d=0;d<c.options.length;d++)c.options[d].selected&&l++;if(l)for(var d=0;d<c.options.length;d++){var s=c.options[d].value;c.options[d].selected&&(t+="&"+encodeURIComponent(r+(l>1?"[]":""))+"="+encodeURIComponent(s))}}}var m=_.getElementsByTagName("textarea");if(m&&m.length)for(var o=0;o<m.length;o++){var i=m[o],r=i.name,s=i.value;r&&(t+="&"+encodeURIComponent(r)+"="+encodeURIComponent(s))}}}return t},cxl.prototype.get_request_flow=function(){var e="",t="";for(var _ in m_map_id_flow)if(m_map_id_flow[_]&&"object"==typeof m_map_id_flow[_]){var n=m_map_id_flow[_]._basis_?m_map_id_flow[_]._basis_:"";if(_==find_container_id_by_flow_role(this.m_container_id,"select")){var o=n?n:t;e+="&_request_flow_basis_="+encodeURIComponent(o),e+="&_request_limit_offset_="+encodeURIComponent(get_container_offset(this.m_container_id)),e+="&_request_limit_rows_="+encodeURIComponent(get_container_limit(this.m_container_id)),e+="&_request_order_="+encodeURIComponent(get_container_order(this.m_container_id))}t=n;var i=get_select_values_all(_);if(i.length){var r="";m_map_id_flow[_]._basis_&&m_map_id_flow[_]._key_&&(r=","+m_map_id_flow[_]._basis_+","+m_map_id_flow[_]._table_+","+m_map_id_flow[_]._key_);var s=m_map_id_flow[_]._qid_;e+="&_request_flow_[]="+encodeURIComponent(s+","+parseInt(i[0])+r),s!=this.m_request_qid||!this.get_send_request_pk()||this.m_request_mode!=MODE_FETCH&&_!=find_container_id_by_flow_role(this.m_container_id,"select")||(e+="&_request_pk_="+encodeURIComponent(parseInt(i[0])));for(var a=s,c=0;c<i.length;c++)a+=","+encodeURIComponent(parseInt(i[c]));e+="&_request_context_[]="+a}}return e},cxl.prototype.create_request_object=function(){try{this.m_request_object=new XMLHttpRequest}catch(e){try{this.m_request_object=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{this.m_request_object=new ActiveXObject("Microsoft.XMLHTTP")}catch(_){this.m_request_object=null}}}},cxl.prototype.send_request=function(e,t){this.set_request_action(t);this.get_request_args(e);event_msg_is_enabled()&&event_msg("("+this.m_exchange_id+") TX action: "+this.m_request_action+", mode: "+this.m_request_mode+", QID: "+this.m_request_qid+", container_id: "+this.m_container_id),null==this.m_request_object&&this.create_request_object(),null!=this.m_request_object},cxl.prototype.response_handler=function(){if(4==this.m_request_object.readyState)if(show_ready(),event_msg_is_enabled()&&event_msg("("+this.m_exchange_id+") RX status: "+this.m_request_object.status+" "+this.m_request_object.statusText),200==this.m_request_object.status){this.init_response(),this.init_feedback(),this.manage_debug_msg();var e=this.characterize_response(this.m_request_object.responseXML);this.manage_version(),this.manage_auth_msg(),("succeeded"==this.m_response_authentication&&"succeeded"==this.m_response_authorization&&""==this.m_response_logout||this.m_response_setup)&&(e?this.process_feedback():(this.m_response_is_adhoc?this.process_adhoc():this.update_container(),this.m_next&&("function"==typeof this.m_next?this.m_next(this):this.m_next.send_request&&"function"==typeof this.m_next.send_request&&this.m_next.send_request())))}else debug_msg("Request status: "+this.m_request_object.status+" "+this.m_request_object.statusText+"\n"+this.m_request_object.responseText)},cxl.prototype.create_handler_onreadystatechange=function(e){return function(){e.response_handler()}},cxl.prototype.response_has_debug_msg=function(){var e=!1;if(this.m_request_object.responseXML&&9==this.m_request_object.responseXML.nodeType){var t=this.m_request_object.responseXML.getElementsByTagName("debug_msg");t&&t.length&&(e=!0)}return e},cxl.prototype.response_has_error_msg=function(){var e=!1;if(this.m_request_object.responseXML&&9==this.m_request_object.responseXML.nodeType){var t=this.m_request_object.responseXML.getElementsByTagName("error");t&&t.length&&t[0].firstChild&&t[0].firstChild.nodeValue&&(e=!0)}return e},cxl.prototype.manage_version=function(){var e=document.getElementById("id_version");e&&(e.innerHTML="version "+this.m_response_version)},cxl.prototype.manage_debug_msg=function(){var e=this.response_has_error_msg();if(e||this.m_request_show_response||this.response_has_debug_msg()||""==this.m_request_object.responseText)debug_msg(this.m_request_object.responseText,e);else if(e=!1,this.m_request_object.responseXML?this.m_request_object.responseXML.documentElement&&"parsererror"==this.m_request_object.responseXML.documentElement.nodeName?e=!0:this.m_request_object.responseXML.parseError&&0!=this.m_request_object.responseXML.parseError.errorCode?e=!0:this.m_request_object.responseXML.getElementsByTagName("response").length||(e=!0):e=!0,e){var t="** XML Parsing Error ** \n[check SynApp2 response: must be well-formed and valid]\n[check PHP configuration: display_errors={false,'0'}]\n";debug_msg(t+this.m_request_object.responseText,e)}},cxl.prototype.manage_auth_msg=function(){if(this.m_response_setup);else if("login"==this.get_pid())"succeeded"==this.m_response_authentication?window.location=document.referrer:set_container_msg_markup("Unrecognized username and/or password");else if("logout"==this.get_pid())this.m_response_logout&&(window.location="../"+this.m_response_logout+"/");else if("succeeded"!=this.m_response_authentication)set_container_msg_markup('Please <a id="id_login_" href="'+_SHARED_+"login.htm?appid="+get_appid()+'">Login</a>.'),set_focus("id_login_");else if("succeeded"!=this.m_response_authorization)set_container_msg_markup("You are not authorized to use this page.");else{var e=get_page_mark_attrs();if(e){var t="Jump to: "+e.app+", page "+e.title;set_container_msg_markup('<a id="id_crumb_" href="'+e.url+'">'+t+"</a>")}}},cxl.prototype.wick_response_members=function(e,t){if(3==e.nodeType)"string"==typeof t&&("number"==typeof this[t]?this[t]=parseInt(e.nodeValue):"string"==typeof this[t]&&(this[t]=trim(e.nodeValue)));else{var _=null;if(1==e.nodeType&&(_="m_response_"+e.nodeName),e.hasChildNodes())for(var n=0;n<e.childNodes.length;n++)this.wick_response_members(e.childNodes[n],_)}},cxl.prototype.characterize_response=function(e){if(e&&9==e.nodeType){this.wick_response_members(e),set_container_found_rows(this.m_container_id,this.m_response_found_rows),this.m_request_mode==MODE_PUT_NORM&&set_container_offset(find_container_id_by_flow_role(this.m_container_id,"select"),this.m_response_insert_offset);var t=e.getElementsByTagName("status");if(t&&t.length)for(var _=0;_<t.length;_++){var n=t[_].firstChild;n&&3==n.nodeType&&this.m_response_feedback.push({name:t[_].getAttribute("name"),value:n.nodeValue})}var o=e.getElementsByTagName("auth_actions");if(o&&o.length){var i=o[0];if(i&&i.hasChildNodes()){for(var r=Array(),_=0;_<i.childNodes.length;_++){var s=i.childNodes[_];if(1==s.nodeType){var a=s.getAttribute("id");a&&(r[a]=s.firstChild?s.firstChild.nodeValue.split(","):Array())}}manage_auth_action_controls(r)}}var c=e.getElementsByTagName("adhoc");c&&c.length&&(this.m_response_is_adhoc=!0)}return this.m_response_feedback.length},cxl.prototype.init_feedback=function(){if(this.m_feedback_id){var e=document.getElementById(this.m_feedback_id);if(e){var t=e.getElementsByTagName("label");if(t&&t.length)for(var _=0;_<t.length;_++)t[_].style.display="none"}}},cxl.prototype.process_feedback=function(){if(this.m_response_feedback&&this.m_response_feedback.length)if(this.m_response_feedback[0].value.indexOf("delete_denied")>=0||this.m_response_feedback[0].value.indexOf("duplicate_denied")>=0){for(var e=this.m_response_feedback[0].name+"\n\n",t=0;t<this.m_response_feedback.length;t++)e+=this.m_response_feedback[t].value+"\n";alert(e)}else if(this.m_response_is_adhoc){for(var e="",t=0;t<this.m_response_feedback.length;t++)e+=this.m_response_feedback[t].value+"\n";alert(e)}else if(this.m_feedback_id){var _=document.getElementById(this.m_feedback_id);if(_){var n=_.getElementsByTagName("label");if(n&&n.length)for(var t=0;t<this.m_response_feedback.length;t++)for(var o=0;o<n.length;o++){var i=n[o].getAttribute("for");if(!i&&n[o].attributes["for"]&&(i=n[o].attributes["for"].value),i&&i.endsWith(this.m_response_feedback[t].name)){n[o].innerHTML=this.m_response_feedback[t].value,n[o].style.display="block";break}}}}},cxl.prototype.process_adhoc=function(){if(this.m_response_is_adhoc){var e=this.m_request_object.responseXML;if(e&&9==e.nodeType){var t=e.getElementsByTagName("adhoc");if(t&&t.length>0){var _=document.getElementById(this.m_container_id);if(_){var n=this.m_request_object.responseText.indexOf("<markup>"),o=this.m_request_object.responseText.indexOf("</markup>");n>0&&o>n&&(1==_.nodeType&&"input"==_.nodeName.toLowerCase()&&"text"==_.type.toLowerCase()?_.value=trim(this.m_request_object.responseText.substring(n+8,o)):_.innerHTML=this.m_request_object.responseText.substring(n+8,o))}var i=e.getElementsByTagName("idd");i&&i.length&&i[0].firstChild&&set_drag_items(i[0].firstChild.nodeValue.split(","));var r=e.getElementsByTagName("tdd");r&&r.length&&r[0].firstChild&&set_drag_targets(r[0].firstChild.nodeValue.split(","),!0)}}}},cxl.prototype.process_payload=function(e){if(e&&this.m_request_object&&this.m_request_object.responseXML)for(var t=new csx(e),_=this.m_response_axis.split(","),n=this.m_request_object.responseXML.getElementsByTagName("tr"),o=0;n&&o<n.length;o++)for(var i=n[o].getElementsByTagName("td"),r=0;i&&r<i.length;r++)if(r||t.set_cell_by_row_name(o,"_row_id_",n[o].getAttribute("id")),_[r]){var s=_[r],a="";i[r].text?a=i[r].text:i[r].firstChild&&(a=i[r].firstChild.nodeValue),t.set_cell_by_row_name(o,s,a)}},cxl.prototype.update_container=function(){this.m_container_id&&this.m_request_object&&this.m_request_object.responseXML&&("select"==get_container_role(this.m_container_id)&&(clr_select_state_all(this.m_container_id),resize_container(this.m_container_id,this.m_response_rows)),update_expanded_elements(this.m_container_id,this.m_request_object.responseXML.getElementsByTagName("select")),this.process_payload(this.m_container_id),this.m_request_mode==MODE_GET_NORM&&"select"==get_container_role(this.m_container_id)&&(set_element_text_by_id(this.m_container_id+g_found_rows_id_suffix,"&nbsp;("+get_container_found_rows(this.m_container_id)+")"),do_stat(this.m_container_id),manage_nav_controls(this.m_container_id,{lastpage:this.m_response_lastpage,firstpage:this.m_response_firstpage})),this.m_request_mode!=MODE_FETCH&&show_container(this.m_container_id,this.m_request_mode==MODE_CLOSE||this.m_request_mode==MODE_CANCEL||this.m_request_mode==MODE_PUT_NORM))};var csx=function(e){this.init(e)};csx.prototype.set_cell_by_row_name=function(e,t,_){t&&"number"==typeof this.m_map_name_col[t]&&this.set_cell_by_row_col(e,this.m_map_name_col[t],_)},csx.prototype.init=function(e){this.m_container_id=e,this.m_rows=null,this.m_map_name_col=Array(),this.build()},csx.prototype.build=function(){this.m_container_id&&(this.fetch_cells(),this.fetch_maps())},csx.prototype.push_cell_element=function(e){this.m_rows||(this.m_rows=Array({cells:Array()})),this.m_rows[0].cells.push(e)},csx.prototype.fetch_cells=function(){var e=document.getElementById(this.m_container_id);if(e){var t=e.nodeName.toLowerCase();if("input"==t||"textarea"==t?this.push_cell_element(o[i]):this.m_rows=get_table_rows(this.m_container_id),!this.m_rows)for(var _=["input","textarea","select"],n=0;n<_.length;n++){var o=e.getElementsByTagName(_[n]);if(o&&o.length)for(var i=0;i<o.length;i++)this.push_cell_element(o[i])}}},csx.prototype.fetch_maps=function(){this.m_map_name_col=Array();for(var e=0;e<this.get_col_count();e++){var t=this.get_cell(0,e);if(t){var _=null;((_=t.getAttribute("axis"))||(_=t.getAttribute("name")))&&(this.m_map_name_col[_]=e)}}},csx.prototype.get_row_count=function(){return this.m_rows?this.m_rows.length:0},csx.prototype.get_col_count=function(){return this.m_rows?this.m_rows[0].cells.length:0},csx.prototype.get_cell=function(e,t){return this.m_rows&&this.m_rows[e]&&this.m_rows[e].cells[t]?this.m_rows[e].cells[t]:null},csx.prototype.set_cell_by_row_col=function(e,t,_){this.set_cell_value(this.get_cell(e,t),_)},csx.prototype.set_cell_value=function(e,t){if(e&&"string"==typeof e.nodeName)switch(e.nodeName.toLowerCase()){case"td":e.firstChild&&1==e.firstChild.nodeType&&"input"==e.firstChild.nodeName.toLowerCase()?e.firstChild.value=t:(e.innerHTML="number"==typeof t||t&&t.length?t:"&nbsp;",e.firstChild&&3!=e.firstChild.nodeType&&e.onclick&&(e.onclick=null));break;case"select":e.value=t?t:1;break;case"input":if("text"!=e.type)break;case"textarea":default:e.value=t}};var m_map_id_flow=Array(),m_flow_to_container=Array(),m_container_to_flow=Array(),m_container_to_role=Array(),m_container_to_limit=Array(),m_container_to_action=Array(),m_qid_to_containers=Array(),m_map_id_args=Array(),m_map_id_extra_args=Array(),m_map_id_is_blind=Array(),m_lookup_request=Array(),m_flow_basis_container_id="",g_appid="",g_pid="",m_default_style=Array();eval(var_const+"CHECKBOX_COL = 0;");var m_map_id_col_action=Array(),m_map_id_row_action=Array(),m_page_msg_id="id_page_msg",m_debug_msg_window=null,m_debug_msg_window_to_front=!1,m_event_msg_window=null,m_event_msg_is_enabled=!1;process_search_string(),eval(var_const+"VKEY_LIMIT_LO = 12;"),eval(var_const+"VKEY_ENTER    = 13;"),eval(var_const+"VKEY_OK       = 13;"),eval(var_const+"VKEY_ESC      = 27;"),eval(var_const+"VKEY_CANCEL   = 27;"),eval(var_const+"VKEY_SPACE    = 32;"),eval(var_const+"VKEY_PGUP     = 33;"),eval(var_const+"VKEY_PGDN     = 34;"),eval(var_const+"VKEY_END      = 35;"),eval(var_const+"VKEY_HOME     = 36;"),eval(var_const+"VKEY_LEFT     = 37;"),eval(var_const+"VKEY_UP       = 38;"),eval(var_const+"VKEY_RIGHT    = 39;"),eval(var_const+"VKEY_DN       = 40;"),eval(var_const+"VKEY_INSERT   = 45;"),eval(var_const+"VKEY_DELETE   = 46;"),eval(var_const+"VKEY_LIMIT_HI = 47;"),eval(var_const+"VKEYMOD_SHIFT = '__shift';"),eval(var_const+"VKEYMOD_CTRL  = '__ctrl';"),eval(var_const+"VKEYMOD_ALT   = '__alt';");var m_map_id_vkey_listener=Array(),m_map_id_vkey_action=Array(),g_content_id="id_page_content",g_screen_id="id__iform__screen",g_feedback_id_suffix="_feedback",g_found_rows_id_suffix="__found_rows",m_drag_items=null,m_drag_targets=null;String.prototype.startsWith=function(e){return"string"==typeof e&&e.length&&0==this.indexOf(e)},String.prototype.contains=function(e){return"string"==typeof e&&e.length&&this.indexOf(e)>=0},String.prototype.endsWith=function(e){return"string"==typeof e&&this.search(e+"$")>=0};